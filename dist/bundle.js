(()=>{"use strict";var __webpack_modules__={332:()=>{eval("\n;// CONCATENATED MODULE: ./src/selectors.js\nconst startBtn = document.querySelector(\".pomodoro__start-btn\");\r\nconst timer = document.querySelector(\".pomodoro__timer\");\r\nconst resetBtn = document.querySelector(\".pomodoro__reset-btn\");\r\nconst dailyPomoCounterDisplay = document.querySelector(\".daily-pomodoro-counter\");\r\nconst totalPomoCounterDisplay = document.querySelector('.total-pomodoro-counter');\r\nconst notificationSound = document.getElementById('timer-end-sound');\r\n\r\n\n;// CONCATENATED MODULE: ./src/constants.js\nconst userDefinedPomoLength = null;\r\nconst userDefinedShortBreak = null;\r\nconst userDefinedLongBreak = null;\r\nconst userDefinedPomosTillLongBreak = null;\r\nconst defaultPomoLength = userDefinedPomoLength || 25;\r\nconst shortBreak = userDefinedShortBreak || 5;\r\nconst longBreak = userDefinedLongBreak || 15;\r\nconst pomosTillLongBreak = userDefinedPomosTillLongBreak || 4;\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/countdown.js\n\r\n\r\n\r\n// Запрос на экранные уведомления\r\nif (\"Notification\" in window) {\r\n  // Request permission to show notifications\r\n  Notification.requestPermission();\r\n}\r\n\r\nlet countdownInterval = null;\r\nlet blinkInterval = null;\r\nlet remainingTime = defaultPomoLength * 60;\r\nlet isStarted = false;\r\nlet isBreak = false;\r\ndailyResetOfPomoCounter();\r\nupdatePomoCountersDisplay();\r\n\r\nconst storedTimerState = getStoredTimerState();\r\n// Retrieve timer state from sessionStorage if available\r\nif (storedTimerState !== null) {\r\n  const { remainingTime: storedRemainingTime, isStarted: storedIsStarted, isBreak: storedIsBreak } = storedTimerState;\r\n  remainingTime = storedRemainingTime;\r\n  isStarted = storedIsStarted;\r\n  isBreak = storedIsBreak;\r\n  if (storedIsStarted) {\r\n    startCountdown();\r\n  } else {\r\n    updateTimerDisplay();\r\n    if (storedRemainingTime !== remainingTime) {\r\n      startTimerBlinkOnPause();\r\n    }\r\n  }\r\n}\r\n\r\nfunction countdown() {\r\n  if (remainingTime > 0) {\r\n    remainingTime--;\r\n    updateTimerDisplay();\r\n  } else {\r\n    notificationSound.play();\r\n\r\n    pauseCountdown();\r\n    startBtn.innerHTML = \"Start\";\r\n    isStarted = false;\r\n    isBreak = !isBreak;\r\n    if (isBreak) {\r\n      const pomoCounter = getDailyPomoCounter();\r\n      setPomoDailyCounter(Number(pomoCounter)+1);\r\n      setTotalPomoCounter();\r\n      if(pomoCounter % pomosTillLongBreak === 0) {\r\n        remainingTime = longBreak * 60;\r\n      } else {\r\n        remainingTime = shortBreak * 60;\r\n      }\r\n    } else {\r\n      remainingTime = defaultPomoLength * 60;\r\n\r\n    }\r\n    updateTimerDisplay();\r\n    updatePomoCountersDisplay();\r\n    dailyResetOfPomoCounter();\r\n  }\r\n  saveTimerState();\r\n}\r\nfunction updateTimerDisplay() {\r\n  let minutes = Math.floor(remainingTime / 60);\r\n  let seconds = remainingTime % 60;\r\n  let displayMinutes = minutes < 10 ? `0${minutes}` : minutes;\r\n  let displaySeconds = seconds < 10 ? `0${seconds}` : seconds;\r\n  timer.innerHTML = `${displayMinutes}:${displaySeconds}`;\r\n}\r\nfunction updatePomoCountersDisplay() {\r\n  dailyPomoCounterDisplay.innerHTML = getDailyPomoCounter();\r\n  totalPomoCounterDisplay.innerHTML = getTotalPomoCounter();\r\n}\r\n// FUNCTION timerBlink\r\n// -----------------------------------------------------\r\nfunction timerBlink() {\r\n  timer.style.opacity == 1\r\n    ? (timer.style.opacity = 0)\r\n    : (timer.style.opacity = 1);\r\n}\r\n// FUNCTION startCountdown\r\n// -----------------------------------------------------\r\nfunction startCountdown() {\r\n  countdownInterval = setInterval(countdown, 1);\r\n}\r\n// Object eventHandler\r\nfunction startTimerBlinkOnPause() {\r\n  blinkInterval = setInterval(timerBlink, 500);\r\n}\r\nfunction startOrPauseCountdown() {\r\n  if (isStarted) {\r\n    pauseCountdown();\r\n    startTimerBlinkOnPause();\r\n    isStarted = false;\r\n    startBtn.innerHTML = \"Resume\";\r\n  } else if (!isStarted) {\r\n    startCountdown();\r\n    clearBlickInterval();\r\n    isStarted = true;\r\n    startBtn.innerHTML = \"Pause\";\r\n  }\r\n  saveTimerState();\r\n}\r\nfunction clearBlickInterval() {\r\n  timer.style.opacity = 1;\r\n  if (blinkInterval) {\r\n    clearInterval(blinkInterval);\r\n  }\r\n}\r\n\r\nfunction pauseCountdown() {\r\n  if (countdownInterval) {\r\n    clearInterval(countdownInterval);\r\n  }\r\n}\r\n\r\nfunction resetCountdown() {\r\n  pauseCountdown();\r\n  clearBlickInterval();\r\n  startBtn.innerHTML = \"Start\";\r\n  remainingTime = defaultPomoLength * 60;\r\n  isStarted = false;\r\n  isBreak = false;\r\n  sessionStorage.removeItem('timerState');\r\n  updateTimerDisplay();\r\n}\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/stateStorage.js\n\r\n\r\nfunction setPomoDailyCounter(pomosToday) {\r\n  const date = new Date();\r\n  const uniqueDate = new Date().toLocaleDateString();\r\n\r\n  const counter = {\r\n    pomosToday,\r\n    uniqueDate\r\n  }\r\n  localStorage.setItem('pomoDailyCounter', JSON.stringify(counter));\r\n}\r\n\r\nfunction setTotalPomoCounter() {\r\n  const currTotal = Number(localStorage.getItem('totalPomoCounter'));\r\n  localStorage.setItem('totalPomoCounter', `${currTotal + 1}`);\r\n}\r\n\r\nfunction getTotalPomoCounter() {\r\n  const tpm = localStorage.getItem('totalPomoCounter');\r\n  if(tpm !== null) {\r\n    return tpm\r\n  } else {\r\n    return 0;\r\n  }\r\n}\r\n\r\nfunction getDailyPomoCounter() {\r\n  const counter = JSON.parse(localStorage.getItem('pomoDailyCounter'));\r\n  if (counter != null) {\r\n    return counter.pomosToday;\r\n  } else {\r\n    return 0;\r\n  }\r\n}\r\n\r\nfunction dailyResetOfPomoCounter() {\r\n  const counter = JSON.parse(localStorage.getItem('pomoDailyCounter'));\r\n  if (counter != null) {\r\n    const storedDate = counter.uniqueDate;\r\n    const currentDate = new Date().toLocaleDateString();\r\n    if (storedDate !== currentDate) {\r\n      setPomoDailyCounter(0);\r\n    }\r\n  }\r\n}\r\nfunction getStoredTimerState() {\r\n  const storedState = sessionStorage.getItem('timerState');\r\n  return storedState ? JSON.parse(storedState) : null;\r\n}\r\nfunction saveTimerState() {\r\n  const timerState = {\r\n    remainingTime: remainingTime,\r\n    isStarted: isStarted,\r\n    isBreak: isBreak\r\n  };\r\n  sessionStorage.setItem('timerState', JSON.stringify(timerState));\r\n}\r\n\r\nfunction stateStorage_removeTimerState() {\r\n  sessionStorage.removeItem('timerState');\r\n}\r\n\r\n\n;// CONCATENATED MODULE: ./src/listeners.js\n\r\n\r\n\r\nstartBtn.addEventListener(\"click\", startOrPauseCountdown);\r\nresetBtn.addEventListener(\"click\", resetCountdown);\r\n\r\nwindow.addEventListener('beforeunload', () => {\r\n  removeTimerState();\r\n});\r\n\n;// CONCATENATED MODULE: ./src/index.js\n\r\n\r\n\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMyLmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3dHOzs7QUNOeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ29FOzs7QUNUdUI7QUFDeUc7QUFDakY7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EseUJBQXlCLG1CQUFtQjtBQUM1QztBQUNBO0FBQ0EsVUFBVSx5RkFBeUY7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUksaUJBQWlCO0FBQ3JCO0FBQ0E7QUFDQSxJQUFJLFFBQVE7QUFDWjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsbUJBQW1CO0FBQzdDLE1BQU0sbUJBQW1CO0FBQ3pCLE1BQU0sbUJBQW1CO0FBQ3pCLHVCQUF1QixrQkFBa0I7QUFDekMsd0JBQXdCLFNBQVM7QUFDakMsUUFBUTtBQUNSLHdCQUF3QixVQUFVO0FBQ2xDO0FBQ0EsTUFBTTtBQUNOLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHVCQUF1QjtBQUMzQjtBQUNBLEVBQUUsY0FBYztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxRQUFRO0FBQ2xELDBDQUEwQyxRQUFRO0FBQ2xELEVBQUUsS0FBSyxnQkFBZ0IsZUFBZSxHQUFHLGVBQWU7QUFDeEQ7QUFDQTtBQUNBLEVBQUUsdUJBQXVCLGFBQWEsbUJBQW1CO0FBQ3pELEVBQUUsdUJBQXVCLGFBQWEsbUJBQW1CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxLQUFLO0FBQ1AsT0FBTyxLQUFLO0FBQ1osT0FBTyxLQUFLO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxRQUFRO0FBQ1osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUksUUFBUTtBQUNaO0FBQ0EsRUFBRSxjQUFjO0FBQ2hCO0FBQ0E7QUFDQSxFQUFFLEtBQUs7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxRQUFRO0FBQ1Ysa0JBQWtCLGlCQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0Y7OztBQ2pJcEI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkJBQWdCO0FBQ3pCO0FBQ0E7QUFDMks7OztBQzlEMUg7QUFDbUI7QUFDcEU7QUFDQSxRQUFRLDJCQUEyQixxQkFBcUI7QUFDeEQsUUFBUSwyQkFBMkIsY0FBYztBQUNqRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUNSdUI7QUFDQTtBQUNHO0FBQ0g7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLy4vc3JjL3NlbGVjdG9ycy5qcz8xY2QzIiwid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLy4vc3JjL2NvbnN0YW50cy5qcz81ZmIwIiwid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLy4vc3JjL2NvdW50ZG93bi5qcz9kYzFlIiwid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLy4vc3JjL3N0YXRlU3RvcmFnZS5qcz9mZGNkIiwid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLy4vc3JjL2xpc3RlbmVycy5qcz8xYzllIiwid2VicGFjazovL3BvbW9kb3JvLXRpbWVyLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc3RhcnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvbW9kb3JvX19zdGFydC1idG5cIik7XHJcbmNvbnN0IHRpbWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb21vZG9yb19fdGltZXJcIik7XHJcbmNvbnN0IHJlc2V0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb21vZG9yb19fcmVzZXQtYnRuXCIpO1xyXG5jb25zdCBkYWlseVBvbW9Db3VudGVyRGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGFpbHktcG9tb2Rvcm8tY291bnRlclwiKTtcclxuY29uc3QgdG90YWxQb21vQ291bnRlckRpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG90YWwtcG9tb2Rvcm8tY291bnRlcicpO1xyXG5jb25zdCBub3RpZmljYXRpb25Tb3VuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lci1lbmQtc291bmQnKTtcclxuZXhwb3J0IHtkYWlseVBvbW9Db3VudGVyRGlzcGxheSwgdG90YWxQb21vQ291bnRlckRpc3BsYXksIHN0YXJ0QnRuLCByZXNldEJ0biwgdGltZXIsIG5vdGlmaWNhdGlvblNvdW5kfTtcclxuIiwiY29uc3QgdXNlckRlZmluZWRQb21vTGVuZ3RoID0gbnVsbDtcclxuY29uc3QgdXNlckRlZmluZWRTaG9ydEJyZWFrID0gbnVsbDtcclxuY29uc3QgdXNlckRlZmluZWRMb25nQnJlYWsgPSBudWxsO1xyXG5jb25zdCB1c2VyRGVmaW5lZFBvbW9zVGlsbExvbmdCcmVhayA9IG51bGw7XHJcbmNvbnN0IGRlZmF1bHRQb21vTGVuZ3RoID0gdXNlckRlZmluZWRQb21vTGVuZ3RoIHx8IDI1O1xyXG5jb25zdCBzaG9ydEJyZWFrID0gdXNlckRlZmluZWRTaG9ydEJyZWFrIHx8IDU7XHJcbmNvbnN0IGxvbmdCcmVhayA9IHVzZXJEZWZpbmVkTG9uZ0JyZWFrIHx8IDE1O1xyXG5jb25zdCBwb21vc1RpbGxMb25nQnJlYWsgPSB1c2VyRGVmaW5lZFBvbW9zVGlsbExvbmdCcmVhayB8fCA0O1xyXG5cclxuZXhwb3J0IHtkZWZhdWx0UG9tb0xlbmd0aCwgc2hvcnRCcmVhayxsb25nQnJlYWsscG9tb3NUaWxsTG9uZ0JyZWFrfTtcclxuIiwiaW1wb3J0IHsgZGVmYXVsdFBvbW9MZW5ndGgsIHBvbW9zVGlsbExvbmdCcmVhaywgc2hvcnRCcmVhaywgbG9uZ0JyZWFrIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IGRhaWx5UmVzZXRPZlBvbW9Db3VudGVyLCBnZXREYWlseVBvbW9Db3VudGVyLCBnZXRUb3RhbFBvbW9Db3VudGVyLCBnZXRTdG9yZWRUaW1lclN0YXRlLCBzZXRQb21vRGFpbHlDb3VudGVyLCBzZXRUb3RhbFBvbW9Db3VudGVyLCBzYXZlVGltZXJTdGF0ZSwgcmVtb3ZlVGltZXJTdGF0ZSB9IGZyb20gXCIuL3N0YXRlU3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBkYWlseVBvbW9Db3VudGVyRGlzcGxheSwgdG90YWxQb21vQ291bnRlckRpc3BsYXksIHN0YXJ0QnRuLCB0aW1lciwgbm90aWZpY2F0aW9uU291bmQgfSBmcm9tIFwiLi9zZWxlY3RvcnNcIjtcclxuLy8g0JfQsNC/0YDQvtGBINC90LAg0Y3QutGA0LDQvdC90YvQtSDRg9Cy0LXQtNC+0LzQu9C10L3QuNGPXHJcbmlmIChcIk5vdGlmaWNhdGlvblwiIGluIHdpbmRvdykge1xyXG4gIC8vIFJlcXVlc3QgcGVybWlzc2lvbiB0byBzaG93IG5vdGlmaWNhdGlvbnNcclxuICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTtcclxufVxyXG5cclxubGV0IGNvdW50ZG93bkludGVydmFsID0gbnVsbDtcclxubGV0IGJsaW5rSW50ZXJ2YWwgPSBudWxsO1xyXG5sZXQgcmVtYWluaW5nVGltZSA9IGRlZmF1bHRQb21vTGVuZ3RoICogNjA7XHJcbmxldCBpc1N0YXJ0ZWQgPSBmYWxzZTtcclxubGV0IGlzQnJlYWsgPSBmYWxzZTtcclxuZGFpbHlSZXNldE9mUG9tb0NvdW50ZXIoKTtcclxudXBkYXRlUG9tb0NvdW50ZXJzRGlzcGxheSgpO1xyXG5cclxuY29uc3Qgc3RvcmVkVGltZXJTdGF0ZSA9IGdldFN0b3JlZFRpbWVyU3RhdGUoKTtcclxuLy8gUmV0cmlldmUgdGltZXIgc3RhdGUgZnJvbSBzZXNzaW9uU3RvcmFnZSBpZiBhdmFpbGFibGVcclxuaWYgKHN0b3JlZFRpbWVyU3RhdGUgIT09IG51bGwpIHtcclxuICBjb25zdCB7IHJlbWFpbmluZ1RpbWU6IHN0b3JlZFJlbWFpbmluZ1RpbWUsIGlzU3RhcnRlZDogc3RvcmVkSXNTdGFydGVkLCBpc0JyZWFrOiBzdG9yZWRJc0JyZWFrIH0gPSBzdG9yZWRUaW1lclN0YXRlO1xyXG4gIHJlbWFpbmluZ1RpbWUgPSBzdG9yZWRSZW1haW5pbmdUaW1lO1xyXG4gIGlzU3RhcnRlZCA9IHN0b3JlZElzU3RhcnRlZDtcclxuICBpc0JyZWFrID0gc3RvcmVkSXNCcmVhaztcclxuICBpZiAoc3RvcmVkSXNTdGFydGVkKSB7XHJcbiAgICBzdGFydENvdW50ZG93bigpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB1cGRhdGVUaW1lckRpc3BsYXkoKTtcclxuICAgIGlmIChzdG9yZWRSZW1haW5pbmdUaW1lICE9PSByZW1haW5pbmdUaW1lKSB7XHJcbiAgICAgIHN0YXJ0VGltZXJCbGlua09uUGF1c2UoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvdW50ZG93bigpIHtcclxuICBpZiAocmVtYWluaW5nVGltZSA+IDApIHtcclxuICAgIHJlbWFpbmluZ1RpbWUtLTtcclxuICAgIHVwZGF0ZVRpbWVyRGlzcGxheSgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBub3RpZmljYXRpb25Tb3VuZC5wbGF5KCk7XHJcblxyXG4gICAgcGF1c2VDb3VudGRvd24oKTtcclxuICAgIHN0YXJ0QnRuLmlubmVySFRNTCA9IFwiU3RhcnRcIjtcclxuICAgIGlzU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgaXNCcmVhayA9ICFpc0JyZWFrO1xyXG4gICAgaWYgKGlzQnJlYWspIHtcclxuICAgICAgY29uc3QgcG9tb0NvdW50ZXIgPSBnZXREYWlseVBvbW9Db3VudGVyKCk7XHJcbiAgICAgIHNldFBvbW9EYWlseUNvdW50ZXIoTnVtYmVyKHBvbW9Db3VudGVyKSsxKTtcclxuICAgICAgc2V0VG90YWxQb21vQ291bnRlcigpO1xyXG4gICAgICBpZihwb21vQ291bnRlciAlIHBvbW9zVGlsbExvbmdCcmVhayA9PT0gMCkge1xyXG4gICAgICAgIHJlbWFpbmluZ1RpbWUgPSBsb25nQnJlYWsgKiA2MDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZW1haW5pbmdUaW1lID0gc2hvcnRCcmVhayAqIDYwO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZW1haW5pbmdUaW1lID0gZGVmYXVsdFBvbW9MZW5ndGggKiA2MDtcclxuXHJcbiAgICB9XHJcbiAgICB1cGRhdGVUaW1lckRpc3BsYXkoKTtcclxuICAgIHVwZGF0ZVBvbW9Db3VudGVyc0Rpc3BsYXkoKTtcclxuICAgIGRhaWx5UmVzZXRPZlBvbW9Db3VudGVyKCk7XHJcbiAgfVxyXG4gIHNhdmVUaW1lclN0YXRlKCk7XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlVGltZXJEaXNwbGF5KCkge1xyXG4gIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcihyZW1haW5pbmdUaW1lIC8gNjApO1xyXG4gIGxldCBzZWNvbmRzID0gcmVtYWluaW5nVGltZSAlIDYwO1xyXG4gIGxldCBkaXNwbGF5TWludXRlcyA9IG1pbnV0ZXMgPCAxMCA/IGAwJHttaW51dGVzfWAgOiBtaW51dGVzO1xyXG4gIGxldCBkaXNwbGF5U2Vjb25kcyA9IHNlY29uZHMgPCAxMCA/IGAwJHtzZWNvbmRzfWAgOiBzZWNvbmRzO1xyXG4gIHRpbWVyLmlubmVySFRNTCA9IGAke2Rpc3BsYXlNaW51dGVzfToke2Rpc3BsYXlTZWNvbmRzfWA7XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlUG9tb0NvdW50ZXJzRGlzcGxheSgpIHtcclxuICBkYWlseVBvbW9Db3VudGVyRGlzcGxheS5pbm5lckhUTUwgPSBnZXREYWlseVBvbW9Db3VudGVyKCk7XHJcbiAgdG90YWxQb21vQ291bnRlckRpc3BsYXkuaW5uZXJIVE1MID0gZ2V0VG90YWxQb21vQ291bnRlcigpO1xyXG59XHJcbi8vIEZVTkNUSU9OIHRpbWVyQmxpbmtcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuZnVuY3Rpb24gdGltZXJCbGluaygpIHtcclxuICB0aW1lci5zdHlsZS5vcGFjaXR5ID09IDFcclxuICAgID8gKHRpbWVyLnN0eWxlLm9wYWNpdHkgPSAwKVxyXG4gICAgOiAodGltZXIuc3R5bGUub3BhY2l0eSA9IDEpO1xyXG59XHJcbi8vIEZVTkNUSU9OIHN0YXJ0Q291bnRkb3duXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmZ1bmN0aW9uIHN0YXJ0Q291bnRkb3duKCkge1xyXG4gIGNvdW50ZG93bkludGVydmFsID0gc2V0SW50ZXJ2YWwoY291bnRkb3duLCAxKTtcclxufVxyXG4vLyBPYmplY3QgZXZlbnRIYW5kbGVyXHJcbmZ1bmN0aW9uIHN0YXJ0VGltZXJCbGlua09uUGF1c2UoKSB7XHJcbiAgYmxpbmtJbnRlcnZhbCA9IHNldEludGVydmFsKHRpbWVyQmxpbmssIDUwMCk7XHJcbn1cclxuZnVuY3Rpb24gc3RhcnRPclBhdXNlQ291bnRkb3duKCkge1xyXG4gIGlmIChpc1N0YXJ0ZWQpIHtcclxuICAgIHBhdXNlQ291bnRkb3duKCk7XHJcbiAgICBzdGFydFRpbWVyQmxpbmtPblBhdXNlKCk7XHJcbiAgICBpc1N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIHN0YXJ0QnRuLmlubmVySFRNTCA9IFwiUmVzdW1lXCI7XHJcbiAgfSBlbHNlIGlmICghaXNTdGFydGVkKSB7XHJcbiAgICBzdGFydENvdW50ZG93bigpO1xyXG4gICAgY2xlYXJCbGlja0ludGVydmFsKCk7XHJcbiAgICBpc1N0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgc3RhcnRCdG4uaW5uZXJIVE1MID0gXCJQYXVzZVwiO1xyXG4gIH1cclxuICBzYXZlVGltZXJTdGF0ZSgpO1xyXG59XHJcbmZ1bmN0aW9uIGNsZWFyQmxpY2tJbnRlcnZhbCgpIHtcclxuICB0aW1lci5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICBpZiAoYmxpbmtJbnRlcnZhbCkge1xyXG4gICAgY2xlYXJJbnRlcnZhbChibGlua0ludGVydmFsKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhdXNlQ291bnRkb3duKCkge1xyXG4gIGlmIChjb3VudGRvd25JbnRlcnZhbCkge1xyXG4gICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25JbnRlcnZhbCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldENvdW50ZG93bigpIHtcclxuICBwYXVzZUNvdW50ZG93bigpO1xyXG4gIGNsZWFyQmxpY2tJbnRlcnZhbCgpO1xyXG4gIHN0YXJ0QnRuLmlubmVySFRNTCA9IFwiU3RhcnRcIjtcclxuICByZW1haW5pbmdUaW1lID0gZGVmYXVsdFBvbW9MZW5ndGggKiA2MDtcclxuICBpc1N0YXJ0ZWQgPSBmYWxzZTtcclxuICBpc0JyZWFrID0gZmFsc2U7XHJcbiAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndGltZXJTdGF0ZScpO1xyXG4gIHVwZGF0ZVRpbWVyRGlzcGxheSgpO1xyXG59XHJcblxyXG5leHBvcnQge3N0YXJ0T3JQYXVzZUNvdW50ZG93biwgcmVzZXRDb3VudGRvd24sIHJlbWFpbmluZ1RpbWUsIGlzQnJlYWssIGlzU3RhcnRlZH07XHJcbiIsImltcG9ydCB7cmVtYWluaW5nVGltZSwgaXNCcmVhaywgaXNTdGFydGVkfSBmcm9tICcuL2NvdW50ZG93bic7XHJcblxyXG5mdW5jdGlvbiBzZXRQb21vRGFpbHlDb3VudGVyKHBvbW9zVG9kYXkpIHtcclxuICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuICBjb25zdCB1bmlxdWVEYXRlID0gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuXHJcbiAgY29uc3QgY291bnRlciA9IHtcclxuICAgIHBvbW9zVG9kYXksXHJcbiAgICB1bmlxdWVEYXRlXHJcbiAgfVxyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwb21vRGFpbHlDb3VudGVyJywgSlNPTi5zdHJpbmdpZnkoY291bnRlcikpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRUb3RhbFBvbW9Db3VudGVyKCkge1xyXG4gIGNvbnN0IGN1cnJUb3RhbCA9IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG90YWxQb21vQ291bnRlcicpKTtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG90YWxQb21vQ291bnRlcicsIGAke2N1cnJUb3RhbCArIDF9YCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRvdGFsUG9tb0NvdW50ZXIoKSB7XHJcbiAgY29uc3QgdHBtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvdGFsUG9tb0NvdW50ZXInKTtcclxuICBpZih0cG0gIT09IG51bGwpIHtcclxuICAgIHJldHVybiB0cG1cclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREYWlseVBvbW9Db3VudGVyKCkge1xyXG4gIGNvbnN0IGNvdW50ZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwb21vRGFpbHlDb3VudGVyJykpO1xyXG4gIGlmIChjb3VudGVyICE9IG51bGwpIHtcclxuICAgIHJldHVybiBjb3VudGVyLnBvbW9zVG9kYXk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZGFpbHlSZXNldE9mUG9tb0NvdW50ZXIoKSB7XHJcbiAgY29uc3QgY291bnRlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BvbW9EYWlseUNvdW50ZXInKSk7XHJcbiAgaWYgKGNvdW50ZXIgIT0gbnVsbCkge1xyXG4gICAgY29uc3Qgc3RvcmVkRGF0ZSA9IGNvdW50ZXIudW5pcXVlRGF0ZTtcclxuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgIGlmIChzdG9yZWREYXRlICE9PSBjdXJyZW50RGF0ZSkge1xyXG4gICAgICBzZXRQb21vRGFpbHlDb3VudGVyKDApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBnZXRTdG9yZWRUaW1lclN0YXRlKCkge1xyXG4gIGNvbnN0IHN0b3JlZFN0YXRlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndGltZXJTdGF0ZScpO1xyXG4gIHJldHVybiBzdG9yZWRTdGF0ZSA/IEpTT04ucGFyc2Uoc3RvcmVkU3RhdGUpIDogbnVsbDtcclxufVxyXG5mdW5jdGlvbiBzYXZlVGltZXJTdGF0ZSgpIHtcclxuICBjb25zdCB0aW1lclN0YXRlID0ge1xyXG4gICAgcmVtYWluaW5nVGltZSxcclxuICAgIGlzU3RhcnRlZCxcclxuICAgIGlzQnJlYWtcclxuICB9O1xyXG4gIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3RpbWVyU3RhdGUnLCBKU09OLnN0cmluZ2lmeSh0aW1lclN0YXRlKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVRpbWVyU3RhdGUoKSB7XHJcbiAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndGltZXJTdGF0ZScpO1xyXG59XHJcbmV4cG9ydCB7ZGFpbHlSZXNldE9mUG9tb0NvdW50ZXIsIGdldERhaWx5UG9tb0NvdW50ZXIsIGdldFRvdGFsUG9tb0NvdW50ZXIsIGdldFN0b3JlZFRpbWVyU3RhdGUsIHNldFBvbW9EYWlseUNvdW50ZXIsIHNldFRvdGFsUG9tb0NvdW50ZXIsIHNhdmVUaW1lclN0YXRlLCByZW1vdmVUaW1lclN0YXRlfVxyXG4iLCJpbXBvcnQgeyBzdGFydEJ0biwgcmVzZXRCdG4gfSBmcm9tIFwiLi9zZWxlY3RvcnNcIjtcclxuaW1wb3J0IHsgc3RhcnRPclBhdXNlQ291bnRkb3duLCByZXNldENvdW50ZG93biB9IGZyb20gXCIuL2NvdW50ZG93blwiO1xyXG5cclxuc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHN0YXJ0T3JQYXVzZUNvdW50ZG93bik7XHJcbnJlc2V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZXNldENvdW50ZG93bik7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xyXG4gIHJlbW92ZVRpbWVyU3RhdGUoKTtcclxufSk7XHJcbiIsImltcG9ydCAnLi9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgJy4vc2VsZWN0b3JzLmpzJztcclxuaW1wb3J0ICcuL3N0YXRlU3RvcmFnZS5qcyc7XHJcbmltcG9ydCAnLi9jb3VudGRvd24uanMnO1xyXG5pbXBvcnQgJy4vbGlzdGVuZXJzLmpzJztcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///332\n")}},__webpack_exports__={};__webpack_modules__[332]()})();